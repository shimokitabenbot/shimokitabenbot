機能仕様書
=========
## 変更履歴
- 2014.01.02 初版


## 機能概要
- 下北弁をTwitterにツイートする。

## 機能一覧
機能は以下の通りとする。

- ツイート
- 単語登録
- 単語更新
- 単語検索
- 単語削除

### ツイート
- (作成中)

### 単語登録
#### 機能概要
ツイートする単語を登録する。
#### 登録項目
登録項目は、以下の通りとする。


| 項目 | 説明             |
|:----|:-----------|
| 単語 | 登録する単語      |
| 意味 | 単語の意味        |
| 例文 | 単語を使用した例文 |
| 訳文 | 例文の訳文 |

#### 入力値

| 項目 | 説明             |
|:----|:-----------|
| 単語 | 登録する単語      |
| 意味 | 単語の意味        |
| 例文 | 単語を使用した例文 |
| 訳文 | 例文の訳文 |


#### 出力値
- HTTPステータスコード
- 単語ID (登録成功時)
- エラー情報 (登録失敗時)

### 単語更新
- (作成中)

### 単語検索
- (作成中)

### 単語削除
- (作成中)

## ログ
ログには、処理内容、およびエラーメッセージを出力する。
ログレベル、およびログ出力内容は以下の通りとする。

### ログレベル
| ログレベル | 説明             |
|:----|:-----------|
| info | 主な処理内容を出力する      |
| debug | デバッグログ。入力パラメータや、出力パラメータを出力する。        |
| error | エラーメッセージを出力する。 |

### ログ出力内容
#### 全ログレベル共通
- ログ出力日時

#### info ログ
- コントローラの開始・終了
- 処理成功・失敗

#### debug ログ
- 入力パラメータ (HTTPリクエスト、メソッドパラメータなど)
- 出力パラメータ (HTTPレスポンス、メソッド戻り値など)

## エラー情報
エラー情報には、以下の項目を含む。
- エラーコード
- エラーメッセージ
- エラー詳細

### エラーコード
エラーコードの種類は、以下の通りとする。
- HTTPエラー
- サーバ内部エラー

#### HTTPエラー
先頭2文字は[11]とする。

| エラーコード | 説明             |
|:----|:-----------|
| 11000001 | リクエストボディフォーマット不正 (JSON形式になっていないなど) |
| 11000002 | リクエストヘッダ不正 (Content-Typeがjsonになっていないなど) |
| 11000003 | リクエストパラメータ不正 (文字列の長さが規定値を超過しているなど) |


#### サーバ内部エラー
先頭2文字は[51]とする。

| エラーコード | 説明             |
|:----|:-----------|
| 51000001 | データベースアクセスエラー |
| 51000002 | データベーストランザクションエラー |
| 51000003 | Twitterアクセスエラー |
| 51000004 | Twitter内部エラー |


### エラーメッセージ
エラーメッセージには、Rubyのエラーメッセージを出力する。

### エラー詳細
エラー詳細には、Rubyのスタックトレースを出力する。  
スタックトレースの出力がない場合は、空とする。
